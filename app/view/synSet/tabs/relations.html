<div style="text-align: right;font-size: 20px;">
    <a ng-click="addRel()" class="btn btn-default btn-xs"><i class="fa fa-magic"></i> Create Relation</a>
    <a ng-click="removeRel()" class="btn btn-default btn-xs"><i class="fa fa-trash-o"></i> Remove Relation</a>
</div>
<div>

    <script type="text/ng-template" id="tree_item_renderer.html">
        <div ng-switch="data.type" ng-class="{active: data.rel && data.rel.id==selectedRel.id}">
            <i class="fa fa-long-arrow-right" ng-switch-when="do"></i>
            <i class="fa fa-long-arrow-left" ng-switch-when="di"></i>
            <i class="fa fa-arrows-h" ng-switch-when="bd"></i>
            <i class="fa fa-ellipsis-h" ng-switch-when="nd"></i>
            {{data.name}}
            <div class="pull-right">
                <a ng-switch-when="rel_type" ng-click="selectRel(data.rel)" class="btn btn-default btn-xs">Add</a>
                <a ng-switch-when="rel" ng-click="selectRel(data.rel)" class="btn btn-default btn-xs">Edit</a>
                <a ng-switch-when="rel" ng-click="deleteRel(data.rel)" class="btn btn-default btn-xs">Remove</a>
            </div>
        </div>
        <ul>
            <li ng-repeat="data in data.nodes" ng-include="'tree_item_renderer.html'" ng-click="!data.rel.id || selectRel(data.rel, data.dirType)"></li>
        </ul>
    </script>

    <ul class="relation-tree-view tree" ng-controller="TreeViewCtrl">
        <li ng-repeat="data in relTree">
            <div ng-switch="data.type">
                <i class="fa fa-long-arrow-right" ng-switch-when="do"></i>
                <i class="fa fa-long-arrow-left" ng-switch-when="di"></i>
                <i class="fa fa-arrows-h" ng-switch-when="bd"></i>
                <i class="fa fa-ellipsis-h" ng-switch-when="nd"></i>
                {{data.name}}
            </div>
            <ul>
                <li ng-repeat="data in data.nodes" ng-include="'tree_item_renderer.html'"></li>
            </ul>
        </li>
    </ul>

</div>