<div style="text-align: right;font-size: 20px;">
    <a ng-click="addRel()" class="btn btn-default btn-xs"><i class="fa fa-magic"></i> Create Relation</a>
</div>
<div>

    <script type="text/ng-template" id="tree_item_renderer2.html">
        <div ng-switch="data.type" class="white" ng-class="{active: data.rel && data.rel == selectedRel}">
            <i class="fa fa-long-arrow-right" ng-switch-when="do"></i>
            <i class="fa fa-long-arrow-left" ng-switch-when="di"></i>
            <i class="fa fa-arrows-h" ng-switch-when="bd"></i>
            <i class="fa fa-ellipsis-h" ng-switch-when="nd"></i>
            <div class="tree-item-label">{{data.name}}</div>
            <div class="pull-right">
                <a ng-switch-when="rel_type" ng-click="addRel(data.relType, data.relDir)" class="btn btn-default btn-xs">Add</a>
                <a ng-switch-when="rel" ng-click="deleteRel(data.rel)" class="btn btn-default btn-xs">Remove</a>
            </div>
        </div>
        <ul>
            <li ng-repeat="data in data.nodes" ng-include="'tree_item_renderer2.html'" ng-click="!data.rel || selectRelForEdit(data.rel, data.dirType)"></li>
        </ul>
    </script>

    <script type="text/ng-template" id="tree_item_renderer1.html">
        <div ng-switch="data.type" class="blue" ng-class="{active: data.rel && data.rel == selectedRel}">
            <i class="fa fa-long-arrow-right" ng-switch-when="do"></i>
            <i class="fa fa-long-arrow-left" ng-switch-when="di"></i>
            <i class="fa fa-arrows-h" ng-switch-when="bd"></i>
            <i class="fa fa-ellipsis-h" ng-switch-when="nd"></i>
            <div class="tree-item-label">{{data.name}}</div>
            <div class="pull-right">
                <a ng-switch-when="rel_type" ng-click="addRel(data.relType, data.relDir)" class="btn btn-default btn-xs">Add</a>
                <a ng-switch-when="rel" ng-click="deleteRel(data.rel)" class="btn btn-default btn-xs">Remove</a>
            </div>
        </div>
        <ul>
            <li ng-repeat="data in data.nodes" ng-include="'tree_item_renderer2.html'" ng-click="!data.rel || selectRelForEdit(data.rel, data.dirType)"></li>
        </ul>
    </script>

    <ul class="relation-tree-view tree" ng-controller="TreeViewCtrl">
        <li ng-repeat="data in relTree">
            <div class="gray" ng-switch="data.type">
                <i class="fa fa-long-arrow-right" ng-switch-when="do"></i>
                <i class="fa fa-long-arrow-left" ng-switch-when="di"></i>
                <i class="fa fa-arrows-h" ng-switch-when="bd"></i>
                <i class="fa fa-ellipsis-h" ng-switch-when="nd"></i>
                <div class="tree-item-label">{{data.name}}</div>
            </div>
            <ul>
                <li ng-repeat="data in data.nodes" ng-include="'tree_item_renderer1.html'"></li>
            </ul>
        </li>
    </ul>

</div>